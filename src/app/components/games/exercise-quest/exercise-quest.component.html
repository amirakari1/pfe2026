<div class="game-container">
  <div class="game-header">
    <button class="home-button" (click)="goHome()">ğŸ  {{ translate('nav.home') }}</button>
    <h1>âœ¨ {{ translate('game.exercise.title') }}</h1>
    <div class="game-stats">
      <div class="stat">{{ translate('game.score') }}: <span class="score-value">{{ score }}</span></div>
      <div class="stat">{{ translate('game.level') }}: <span class="level-value">{{ level }}</span></div>
      <div class="stat">{{ translate('game.moves') }}: <span class="moves-value">{{ moves }}</span></div>
    </div>
  </div>

  <div class="game-content" *ngIf="!gameStarted">
    <div class="welcome-screen">
      <div class="anime-character">ğŸƒâœ¨</div>
      <h2>{{ translate('game.exercise.welcome') }}</h2>
      <p>{{ translate('game.exercise.description') }}</p>
      <button class="start-button" (click)="startGame()">{{ translate('game.start') }}</button>
    </div>
  </div>

  <div class="game-content" *ngIf="gameStarted">
    <div class="character-section">
      <div class="anime-character-large" [@characterAnimation]="characterState">
        <div class="character-face">ğŸƒ</div>
        <div class="character-name">Akira</div>
      </div>
    </div>

    <div class="puzzle-board-container">
      <div class="puzzle-board">
        <div *ngFor="let row of board; let rowIndex = index" class="puzzle-row">
          <div 
            *ngFor="let block of row" 
            class="puzzle-block"
            [@blockAnimation]="block.selected ? 'selected' : 'normal'"
            [style.background-color]="getBlockColor(block.type)"
            (click)="selectBlock(block)"
            [class.selected]="block.selected">
            <div class="block-icon">{{ block.icon }}</div>
          </div>
        </div>
      </div>
    </div>

    <div class="game-instructions">
      <p>ğŸ’¡ {{ translate('game.exercise.instruction') }}</p>
      <p>ğŸ¯ {{ translate('game.exercise.swap') }}</p>
    </div>
  </div>
</div>
